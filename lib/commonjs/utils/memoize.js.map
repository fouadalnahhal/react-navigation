{"version":3,"names":["memoize","callback","previous","result","hasChanged","dependencies","length","i","undefined"],"sources":["memoize.tsx"],"sourcesContent":["export default function memoize<Result, Deps extends readonly any[]>(\r\n  callback: (...deps: Deps) => Result\r\n) {\r\n  let previous: Deps | undefined;\r\n  let result: Result | undefined;\r\n\r\n  return (...dependencies: Deps): Result => {\r\n    let hasChanged = false;\r\n\r\n    if (previous) {\r\n      if (previous.length !== dependencies.length) {\r\n        hasChanged = true;\r\n      } else {\r\n        for (let i = 0; i < previous.length; i++) {\r\n          if (previous[i] !== dependencies[i]) {\r\n            hasChanged = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      hasChanged = true;\r\n    }\r\n\r\n    previous = dependencies;\r\n\r\n    if (hasChanged || result === undefined) {\r\n      result = callback(...dependencies);\r\n    }\r\n\r\n    return result;\r\n  };\r\n}\r\n"],"mappings":";;;;;;;AAAe,SAASA,OAAT,CACbC,QADa,EAEb;EACA,IAAIC,QAAJ;EACA,IAAIC,MAAJ;EAEA,OAAO,YAAmC;IACxC,IAAIC,UAAU,GAAG,KAAjB;;IADwC,kCAA/BC,YAA+B;MAA/BA,YAA+B;IAAA;;IAGxC,IAAIH,QAAJ,EAAc;MACZ,IAAIA,QAAQ,CAACI,MAAT,KAAoBD,YAAY,CAACC,MAArC,EAA6C;QAC3CF,UAAU,GAAG,IAAb;MACD,CAFD,MAEO;QACL,KAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,QAAQ,CAACI,MAA7B,EAAqCC,CAAC,EAAtC,EAA0C;UACxC,IAAIL,QAAQ,CAACK,CAAD,CAAR,KAAgBF,YAAY,CAACE,CAAD,CAAhC,EAAqC;YACnCH,UAAU,GAAG,IAAb;YACA;UACD;QACF;MACF;IACF,CAXD,MAWO;MACLA,UAAU,GAAG,IAAb;IACD;;IAEDF,QAAQ,GAAGG,YAAX;;IAEA,IAAID,UAAU,IAAID,MAAM,KAAKK,SAA7B,EAAwC;MACtCL,MAAM,GAAGF,QAAQ,CAAC,GAAGI,YAAJ,CAAjB;IACD;;IAED,OAAOF,MAAP;EACD,CAzBD;AA0BD"}